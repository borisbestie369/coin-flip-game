<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2685.2">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #4689cc; -webkit-text-stroke: #4689cc}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #8cd3fe; -webkit-text-stroke: #8cd3fe}
    p.p3 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #c27e65; -webkit-text-stroke: #c27e65}
    p.p4 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca}
    p.p5 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #cacaca; -webkit-text-stroke: #cacaca; min-height: 16.0px}
    p.p6 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #6d7378; -webkit-text-stroke: #6d7378}
    p.p7 {margin: 0.0px 0.0px 0.0px 0.0px; font: 14.0px Menlo; color: #71c083; -webkit-text-stroke: #71c083}
    span.s1 {font-kerning: none; background-color: #171818}
    span.s2 {font-kerning: none; color: #8cd3fe; background-color: #171818; -webkit-text-stroke: 0px #8cd3fe}
    span.s3 {font-kerning: none; color: #6d6d6d; background-color: #171818; -webkit-text-stroke: 0px #6d6d6d}
    span.s4 {font-kerning: none; color: #cacaca; background-color: #171818; -webkit-text-stroke: 0px #cacaca}
    span.s5 {font-kerning: none; color: #c27e65; background-color: #171818; -webkit-text-stroke: 0px #c27e65}
    span.s6 {font-kerning: none; color: #4689cc; background-color: #171818; -webkit-text-stroke: 0px #4689cc}
    span.s7 {font-kerning: none}
    span.s8 {font-kerning: none; color: #d4d4d4; background-color: #171818; -webkit-text-stroke: 0px #d4d4d4}
    span.s9 {font-kerning: none; color: #a7c598; background-color: #171818; -webkit-text-stroke: 0px #a7c598}
    span.s10 {font-kerning: none; color: #71c083; background-color: #171818; -webkit-text-stroke: 0px #71c083}
    span.s11 {font-kerning: none; color: #b76ff7; background-color: #171818; -webkit-text-stroke: 0px #b76ff7}
    span.s12 {font-kerning: none; color: #f67c30; background-color: #171818; -webkit-text-stroke: 0px #f67c30}
    span.s13 {font-kerning: none; color: #36c0a0; background-color: #171818; -webkit-text-stroke: 0px #36c0a0}
    span.s14 {font-kerning: none; color: #6d7378; background-color: #171818; -webkit-text-stroke: 0px #6d7378}
  </style>
</head>
<body>
<p class="p1"><span class="s1">&lt;!DOCTYPE</span><span class="s2"> html</span><span class="s1">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">html</span><span class="s4"> </span><span class="s2">lang</span><span class="s3">=</span><span class="s5">"en"</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s1">charset</span><span class="s3">=</span><span class="s5">"UTF-8"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"viewport"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">meta</span><span class="s4"> </span><span class="s2">name</span><span class="s3">=</span><span class="s1">"theme-color"</span><span class="s4"> </span><span class="s2">content</span><span class="s3">=</span><span class="s1">"#0f172a"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">title</span><span class="s3">&gt;</span><span class="s1">Coin Flip P2P</span><span class="s3">&lt;/</span><span class="s6">title</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">    </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">script</span><span class="s4"> </span><span class="s2">src</span><span class="s3">=</span><span class="s1">"https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"</span><span class="s3">&gt;&lt;/</span><span class="s6">script</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">:root</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--bg-color:</span><span class="s1"> #0f172a</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--text-color:</span><span class="s1"> #f1f5f9</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--coin-gold:</span><span class="s1"> #eab308</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--btn-primary:</span><span class="s1"> #eab308</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--btn-disabled:</span><span class="s1"> #475569</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">--panel-bg:</span><span class="s1"> #1e293b</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">:root</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">color-scheme:</span><span class="s4"> </span><span class="s5">dark</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">*</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">box-sizing:</span><span class="s4"> </span><span class="s5">border-box</span><span class="s8">;</span><span class="s4"> </span><span class="s1">-webkit-tap-highlight-color:</span><span class="s4"> </span><span class="s5">transparent</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">body</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s5">var(--bg-color)</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">color:</span><span class="s4"> </span><span class="s1">var(--text-color)</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">font-family:</span><span class="s4"> </span><span class="s1">-apple-system</span><span class="s8">,</span><span class="s4"> </span><span class="s1">BlinkMacSystemFont</span><span class="s8">,</span><span class="s4"> </span><span class="s10">"Segoe UI"</span><span class="s8">,</span><span class="s4"> </span><span class="s1">Roboto</span><span class="s8">,</span><span class="s4"> </span><span class="s1">Helvetica</span><span class="s8">,</span><span class="s4"> </span><span class="s1">Arial</span><span class="s8">,</span><span class="s4"> </span><span class="s1">sans-serif</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">display:</span><span class="s1"> </span><span class="s5">flex</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">align-items:</span><span class="s1"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">min-height:</span><span class="s1"> </span><span class="s9">100</span><span class="s5">dvh</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">overflow:</span><span class="s1"> </span><span class="s5">hidden</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">user-select:</span><span class="s1"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">touch-action:</span><span class="s1"> </span><span class="s5">manipulation</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.bg-blob</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">fixed</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">top:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">-1</span><span class="s8">;</span><span class="s4"> </span><span class="s1">opacity:</span><span class="s4"> </span><span class="s9">0.15</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s4"> </span><span class="s1">radial-gradient(circle</span><span class="s4"> </span><span class="s1">at</span><span class="s4"> </span><span class="s9">20%</span><span class="s4"> </span><span class="s9">20%</span><span class="s8">,</span><span class="s4"> #9333ea </span><span class="s9">0%</span><span class="s8">,</span><span class="s4"> </span><span class="s1">transparent</span><span class="s4"> </span><span class="s9">40%</span><span class="s1">)</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s5">radial-gradient(circle</span><span class="s1"> </span><span class="s5">at</span><span class="s1"> </span><span class="s9">80%</span><span class="s1"> </span><span class="s9">80%</span><span class="s8">,</span><span class="s1"> #2563eb </span><span class="s9">0%</span><span class="s8">,</span><span class="s1"> </span><span class="s5">transparent</span><span class="s1"> </span><span class="s9">40%</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.app-container</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">max-width:</span><span class="s4"> </span><span class="s9">400px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">align-items:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">1.5rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">10</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.header</span><span class="s1"> </span><span class="s6">h1</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">2rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s9">900</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #fde047</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">text-transform:</span><span class="s4"> </span><span class="s5">uppercase</span><span class="s8">;</span><span class="s4"> </span><span class="s1">letter-spacing:</span><span class="s4"> </span><span class="s9">1px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">text-align:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.perspective-container</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">perspective:</span><span class="s4"> </span><span class="s9">1000px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">200px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">200px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">position:</span><span class="s1"> </span><span class="s5">relative</span><span class="s8">;</span><span class="s1"> </span><span class="s2">margin:</span><span class="s1"> </span><span class="s9">1rem</span><span class="s1"> </span><span class="s9">0</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.coin</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s1"> </span><span class="s2">height:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">relative</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transform-style:</span><span class="s4"> </span><span class="s5">preserve-3d</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s2">transition:</span><span class="s4"> </span><span class="s1">transform</span><span class="s4"> </span><span class="s9">3000ms</span><span class="s4"> </span><span class="s1">cubic-bezier(</span><span class="s9">0.25</span><span class="s8">,</span><span class="s4"> </span><span class="s9">1</span><span class="s8">,</span><span class="s4"> </span><span class="s9">0.5</span><span class="s8">,</span><span class="s4"> </span><span class="s9">1</span><span class="s1">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.face</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">absolute</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">backface-visibility:</span><span class="s4"> </span><span class="s5">hidden</span><span class="s8">;</span><span class="s4"> </span><span class="s1">-webkit-backface-visibility:</span><span class="s4"> </span><span class="s5">hidden</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border:</span><span class="s4"> </span><span class="s9">4px</span><span class="s4"> </span><span class="s5">solid</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background-color:</span><span class="s4"> #1e293b</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.face-heads</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">border-color:</span><span class="s1"> #ca8a04</span><span class="s8">;</span><span class="s1"> </span><span class="s2">background:</span><span class="s1"> </span><span class="s5">linear-gradient(</span><span class="s9">135deg</span><span class="s8">,</span><span class="s1"> #fde047</span><span class="s8">,</span><span class="s1"> #eab308</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotateY(</span><span class="s9">0deg</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.face-tails</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">border-color:</span><span class="s1"> #64748b</span><span class="s8">;</span><span class="s1"> </span><span class="s2">background:</span><span class="s1"> </span><span class="s5">linear-gradient(</span><span class="s9">135deg</span><span class="s8">,</span><span class="s1"> #cbd5e1</span><span class="s8">,</span><span class="s1"> #94a3b8</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s2">transform:</span><span class="s1"> </span><span class="s5">rotateY(</span><span class="s9">180deg</span><span class="s5">)</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.face-text</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">5rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s5">bold</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-family:</span><span class="s4"> </span><span class="s5">serif</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.9</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.status-badge</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">0.5rem</span><span class="s4"> </span><span class="s9">1rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">0.8rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #94a3b8</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">0.5rem</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border:</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.05</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.status-dot</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background:</span><span class="s4"> #ef4444</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.status-dot.online</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">background:</span><span class="s1"> #22c55e</span><span class="s8">;</span><span class="s1"> </span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">10px</span><span class="s1"> #22c55e</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.status-dot.connecting</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">background:</span><span class="s1"> #fde047</span><span class="s8">;</span><span class="s1"> </span><span class="s2">animation:</span><span class="s1"> </span><span class="s5">blink</span><span class="s1"> </span><span class="s9">1s</span><span class="s1"> </span><span class="s5">infinite</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">@keyframes</span><span class="s1"> </span><span class="s5">blink</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s9">50%</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">opacity:</span><span class="s1"> </span><span class="s9">0.5</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.controls</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">flex-direction:</span><span class="s4"> </span><span class="s5">column</span><span class="s8">;</span><span class="s4"> </span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">button</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">outline:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">cursor:</span><span class="s4"> </span><span class="s5">pointer</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-family:</span><span class="s4"> </span><span class="s5">inherit</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s9">700</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">12px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transition:</span><span class="s4"> </span><span class="s5">all</span><span class="s4"> </span><span class="s9">0.2s</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">button:active</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s2">transform:</span><span class="s4"> </span><span class="s5">scale(</span><span class="s9">0.98</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.btn-main</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s5">var(--btn-primary)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #0f172a</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">font-size:</span><span class="s1"> </span><span class="s9">1.1rem</span><span class="s8">;</span><span class="s1"> </span><span class="s2">width:</span><span class="s1"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s1"> </span><span class="s2">box-shadow:</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> </span><span class="s9">4px</span><span class="s1"> </span><span class="s9">0</span><span class="s1"> #a16207</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.btn-main:disabled</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background-color:</span><span class="s4"> </span><span class="s5">var(--btn-disabled)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #94a3b8</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">box-shadow:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">cursor:</span><span class="s4"> </span><span class="s5">not-allowed</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transform:</span><span class="s4"> </span><span class="s5">translateY(</span><span class="s9">4px</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.share-box</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background:</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">4px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">12px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border:</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.1</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.share-input</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background:</span><span class="s4"> </span><span class="s5">transparent</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> #94a3b8</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-family:</span><span class="s4"> </span><span class="s5">monospace</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">0.8rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">outline:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">.btn-copy-small</span><span class="s4"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s2">background:</span><span class="s1"> #334155</span><span class="s8">;</span><span class="s1"> </span><span class="s2">color:</span><span class="s1"> </span><span class="s5">white</span><span class="s8">;</span><span class="s1"> </span><span class="s2">padding:</span><span class="s1"> </span><span class="s9">8px</span><span class="s1"> </span><span class="s9">12px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">0.8rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">white-space:</span><span class="s4"> </span><span class="s5">nowrap</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.stats</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">width:</span><span class="s4"> </span><span class="s9">100%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">background:</span><span class="s4"> </span><span class="s5">var(--panel-bg)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">border:</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.1</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">16px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.stats-row</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">space-between</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin-bottom:</span><span class="s4"> </span><span class="s9">0.5rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">0.9rem</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.history</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">gap:</span><span class="s4"> </span><span class="s9">8px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">margin-top:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding-top:</span><span class="s4"> </span><span class="s9">1rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-top:</span><span class="s4"> </span><span class="s9">1px</span><span class="s4"> </span><span class="s5">solid</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">255</span><span class="s8">,</span><span class="s9">0.1</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">min-height:</span><span class="s4"> </span><span class="s9">40px</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s6">.bubble</span><span class="s4"> </span><span class="s8">{</span><span class="s4"> </span><span class="s1">width:</span><span class="s4"> </span><span class="s9">28px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">height:</span><span class="s4"> </span><span class="s9">28px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">display:</span><span class="s4"> </span><span class="s5">flex</span><span class="s8">;</span><span class="s4"> </span><span class="s1">align-items:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">justify-content:</span><span class="s4"> </span><span class="s5">center</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">0.75rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">font-weight:</span><span class="s4"> </span><span class="s5">bold</span><span class="s8">;</span><span class="s4"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.bubble-h</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">background:</span><span class="s1"> #eab308</span><span class="s8">;</span><span class="s1"> </span><span class="s2">color:</span><span class="s1"> #422006</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">.bubble-t</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> </span><span class="s2">background:</span><span class="s1"> #94a3b8</span><span class="s8">;</span><span class="s1"> </span><span class="s2">color:</span><span class="s1"> #0f172a</span><span class="s8">;</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s6">#toast</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">position:</span><span class="s4"> </span><span class="s5">fixed</span><span class="s8">;</span><span class="s4"> </span><span class="s1">bottom:</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">left:</span><span class="s4"> </span><span class="s9">50%</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transform:</span><span class="s4"> </span><span class="s5">translateX(</span><span class="s9">-50%</span><span class="s5">)</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">background:</span><span class="s4"> #334155</span><span class="s8">;</span><span class="s4"> </span><span class="s1">color:</span><span class="s4"> </span><span class="s5">white</span><span class="s8">;</span><span class="s4"> </span><span class="s1">padding:</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s9">20px</span><span class="s8">;</span><span class="s4"> </span><span class="s1">border-radius:</span><span class="s4"> </span><span class="s9">30px</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">font-size:</span><span class="s4"> </span><span class="s9">0.9rem</span><span class="s8">;</span><span class="s4"> </span><span class="s1">opacity:</span><span class="s4"> </span><span class="s9">0</span><span class="s8">;</span><span class="s4"> </span><span class="s1">pointer-events:</span><span class="s4"> </span><span class="s5">none</span><span class="s8">;</span><span class="s4"> </span><span class="s1">transition:</span><span class="s4"> </span><span class="s5">opacity</span><span class="s4"> </span><span class="s9">0.3s</span><span class="s8">;</span></p>
<p class="p2"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s1">box-shadow:</span><span class="s4"> </span><span class="s9">0</span><span class="s4"> </span><span class="s9">10px</span><span class="s4"> </span><span class="s9">20px</span><span class="s4"> </span><span class="s5">rgba(</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0</span><span class="s8">,</span><span class="s9">0.3</span><span class="s5">)</span><span class="s8">;</span><span class="s4"> </span><span class="s1">z-index:</span><span class="s4"> </span><span class="s9">100</span><span class="s8">;</span><span class="s4"> </span><span class="s1">white-space:</span><span class="s4"> </span><span class="s5">nowrap</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">style</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">head</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"bg-blob"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"app-container"</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"status-badge"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"statusDot"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"status-dot connecting"</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"playerStatus"</span><span class="s3">&gt;</span><span class="s1">Initializing...</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"header"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">h1</span><span class="s3">&gt;</span><span class="s1">Coin Flip</span><span class="s3">&lt;/</span><span class="s6">h1</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"perspective-container"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"coin"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"coin"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"face face-heads"</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"face-text"</span><span class="s3">&gt;</span><span class="s4">H</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"face face-tails"</span><span class="s3">&gt;&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"face-text"</span><span class="s3">&gt;</span><span class="s4">T</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"controls"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"flipBtn"</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"btn-main"</span><span class="s1"> </span><span class="s2">disabled</span><span class="s3">&gt;</span><span class="s1">WAITING...</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"share-box"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"shareSection"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">input</span><span class="s4"> </span><span class="s2">type</span><span class="s3">=</span><span class="s1">"text"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"linkInput"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"share-input"</span><span class="s4"> </span><span class="s2">readonly</span><span class="s4"> </span><span class="s2">value</span><span class="s3">=</span><span class="s1">"Creating room..."</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">button</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"copyLinkBtn"</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"btn-copy-small"</span><span class="s3">&gt;</span><span class="s4">Copy</span><span class="s3">&lt;/</span><span class="s6">button</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"stats"</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">class</span><span class="s3">=</span><span class="s5">"stats-row"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color: #facc15"</span><span class="s3">&gt;</span><span class="s4">HEADS: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"headsCount"</span><span class="s3">&gt;</span><span class="s4">0</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"color: #cbd5e1"</span><span class="s3">&gt;</span><span class="s4">TAILS: </span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"tailsCount"</span><span class="s3">&gt;</span><span class="s4">0</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s4"> </span><span class="s2">class</span><span class="s3">=</span><span class="s1">"history"</span><span class="s4"> </span><span class="s2">id</span><span class="s3">=</span><span class="s1">"historyContainer"</span><span class="s3">&gt;</span></p>
<p class="p3"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s3">&lt;</span><span class="s6">span</span><span class="s4"> </span><span class="s2">style</span><span class="s3">=</span><span class="s1">"font-size: 12px; color: #64748b;"</span><span class="s3">&gt;</span><span class="s4">No history yet</span><span class="s3">&lt;/</span><span class="s6">span</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s6">div</span><span class="s1"> </span><span class="s2">id</span><span class="s3">=</span><span class="s5">"toast"</span><span class="s3">&gt;</span><span class="s1">Link copied!</span><span class="s3">&lt;/</span><span class="s6">div</span><span class="s3">&gt;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- Game State ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> state </span><span class="s8">=</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>angle</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>counts</span><span class="s8">:</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> heads</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0</span><span class="s8">,</span><span class="s1"> tails</span><span class="s8">:</span><span class="s1"> </span><span class="s12">0</span><span class="s1"> </span><span class="s8">},</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>history</span><span class="s8">:</span><span class="s1"> </span><span class="s8">[],</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>isFlipping</span><span class="s8">:</span><span class="s1"> </span><span class="s11">false</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">};</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">        </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> peer </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> conn </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> myId </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> hostId </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> isHost </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">let</span><span class="s1"> handshakeInterval </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">        </span></span><span class="s1">// --- DOM Elements ---</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> coin </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'coin'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> flipBtn </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'flipBtn'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> headsCount </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'headsCount'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> tailsCount </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'tailsCount'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> historyContainer </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'historyContainer'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> linkInput </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'linkInput'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> copyLinkBtn </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'copyLinkBtn'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> toast </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'toast'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> statusDot </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'statusDot'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> playerStatus </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'playerStatus'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">const</span><span class="s1"> shareSection </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">getElementById</span><span class="s8">(</span><span class="s10">'shareSection'</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> init</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> urlParams </span><span class="s8">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">URLSearchParams</span><span class="s8">(</span><span class="s1">window</span><span class="s8">.</span><span class="s1">location</span><span class="s8">.</span><span class="s1">search</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>hostId </span><span class="s8">=</span><span class="s1"> urlParams</span><span class="s8">.</span><span class="s11">get</span><span class="s8">(</span><span class="s10">'g'</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">hostId</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>isHost </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>initPeer</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>shareSection</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">display </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'none'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>playerStatus</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"Connecting to Host..."</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>isHost </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>initPeer</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>playerStatus</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"Creating Room..."</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> initPeer</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>peer </span><span class="s8">=</span><span class="s1"> </span><span class="s11">new</span><span class="s1"> </span><span class="s13">Peer</span><span class="s8">(</span><span class="s11">null</span><span class="s8">,</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> debug</span><span class="s8">:</span><span class="s1"> </span><span class="s12">1</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>peer</span><span class="s8">.</span><span class="s1">on</span><span class="s8">(</span><span class="s10">'open'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">id</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>myId </span><span class="s8">=</span><span class="s1"> id</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>console</span><span class="s8">.</span><span class="s1">log</span><span class="s8">(</span><span class="s10">'My ID:'</span><span class="s8">,</span><span class="s1"> id</span><span class="s8">);</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isHost</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>playerStatus</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"Waiting for friend..."</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>statusDot</span><span class="s8">.</span><span class="s1">className </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'status-dot'</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> url </span><span class="s8">=</span><span class="s1"> window</span><span class="s8">.</span><span class="s1">location</span><span class="s8">.</span><span class="s1">href</span><span class="s8">.</span><span class="s1">split</span><span class="s8">(</span><span class="s10">'?'</span><span class="s8">)[</span><span class="s12">0</span><span class="s8">]</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s10">'?g='</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> id</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>linkInput</span><span class="s8">.</span><span class="s1">value </span><span class="s8">=</span><span class="s1"> url</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>enableFlipBtn</span><span class="s8">(</span><span class="s10">"FLIP COIN"</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>connectToHost</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>peer</span><span class="s8">.</span><span class="s1">on</span><span class="s8">(</span><span class="s10">'connection'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">connection</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">conn</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span><span class="s1"> conn</span><span class="s8">.</span><span class="s1">close</span><span class="s8">();</span><span class="s1"> </span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>conn </span><span class="s8">=</span><span class="s1"> connection</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>setupConnection</span><span class="s8">();</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Host does NOT send state immediately anymore.</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Host waits for guest to ask for it.</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>peer</span><span class="s8">.</span><span class="s1">on</span><span class="s8">(</span><span class="s10">'error'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">err</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>console</span><span class="s8">.</span><span class="s1">error</span><span class="s8">(</span><span class="s1">err</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>playerStatus</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"Connection Error"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>statusDot</span><span class="s8">.</span><span class="s1">className </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'status-dot'</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Auto retry for guest if ID invalid</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s8">(!</span><span class="s1">isHost</span><span class="s8">)</span><span class="s1"> setTimeout</span><span class="s8">(</span><span class="s1">connectToHost</span><span class="s8">,</span><span class="s1"> </span><span class="s12">2000</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> connectToHost</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(!</span><span class="s1">hostId</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>console</span><span class="s8">.</span><span class="s1">log</span><span class="s8">(</span><span class="s10">"Attempting connect to "</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> hostId</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>conn </span><span class="s8">=</span><span class="s1"> peer</span><span class="s8">.</span><span class="s1">connect</span><span class="s8">(</span><span class="s1">hostId</span><span class="s8">,</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>reliable</span><span class="s8">:</span><span class="s1"> </span><span class="s11">true</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setupConnection</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> setupConnection</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>conn</span><span class="s8">.</span><span class="s1">on</span><span class="s8">(</span><span class="s10">'open'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>console</span><span class="s8">.</span><span class="s1">log</span><span class="s8">(</span><span class="s10">"Connection Open!"</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(!</span><span class="s1">isHost</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s14">// GUEST LOGIC:</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                    </span></span><span class="s1">// Start shouting "REQUEST_STATE" until we get a reply</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">if</span><span class="s8">(</span><span class="s1">handshakeInterval</span><span class="s8">)</span><span class="s1"> clearInterval</span><span class="s8">(</span><span class="s1">handshakeInterval</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                    </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>handshakeInterval </span><span class="s8">=</span><span class="s1"> setInterval</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span>console</span><span class="s8">.</span><span class="s1">log</span><span class="s8">(</span><span class="s10">"Sending Handshake..."</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s11">if</span><span class="s8">(</span><span class="s1">conn </span><span class="s8">&amp;&amp;</span><span class="s1"> conn</span><span class="s8">.</span><span class="s1">open</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                            </span>conn</span><span class="s8">.</span><span class="s1">send</span><span class="s8">({</span><span class="s1"> type</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'REQUEST_STATE'</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                        </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s8">},</span><span class="s1"> </span><span class="s12">500</span><span class="s8">);</span><span class="s1"> </span><span class="s14">// Retry every 500ms</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>conn</span><span class="s8">.</span><span class="s1">on</span><span class="s8">(</span><span class="s10">'data'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">(</span><span class="s1">data</span><span class="s8">)</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>handleData</span><span class="s8">(</span><span class="s1">data</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>conn</span><span class="s8">.</span><span class="s1">on</span><span class="s8">(</span><span class="s10">'close'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>playerStatus</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"Peer Disconnected"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>statusDot</span><span class="s8">.</span><span class="s1">className </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'status-dot'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> handleData</span><span class="s8">(</span><span class="s1">data</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>console</span><span class="s8">.</span><span class="s1">log</span><span class="s8">(</span><span class="s10">"Received:"</span><span class="s8">,</span><span class="s1"> data</span><span class="s8">);</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">data</span><span class="s8">.</span><span class="s1">type </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'STATE_UPDATE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// SUCCESSFUL HANDSHAKE</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s8">(!</span><span class="s1">isHost </span><span class="s8">&amp;&amp;</span><span class="s1"> handshakeInterval</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>clearInterval</span><span class="s8">(</span><span class="s1">handshakeInterval</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>handshakeInterval </span><span class="s8">=</span><span class="s1"> </span><span class="s11">null</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>console</span><span class="s8">.</span><span class="s1">log</span><span class="s8">(</span><span class="s10">"Handshake Complete!"</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>playerStatus</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"Connected!"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>statusDot</span><span class="s8">.</span><span class="s1">className </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'status-dot online'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>enableFlipBtn</span><span class="s8">(</span><span class="s10">"FLIP COIN"</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s8">(</span><span class="s1">isHost</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>playerStatus</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"Friend Connected!"</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>statusDot</span><span class="s8">.</span><span class="s1">className </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'status-dot online'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s14">// Sync State</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>state</span><span class="s8">.</span><span class="s1">angle </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">.</span><span class="s1">payload</span><span class="s8">.</span><span class="s1">angle</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>state</span><span class="s8">.</span><span class="s1">counts </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">.</span><span class="s1">payload</span><span class="s8">.</span><span class="s1">counts</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>state</span><span class="s8">.</span><span class="s1">history </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">.</span><span class="s1">payload</span><span class="s8">.</span><span class="s1">history</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>state</span><span class="s8">.</span><span class="s1">isFlipping </span><span class="s8">=</span><span class="s1"> data</span><span class="s8">.</span><span class="s1">payload</span><span class="s8">.</span><span class="s1">isFlipping</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>updateUI</span><span class="s8">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">data</span><span class="s8">.</span><span class="s1">type </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'FLIP_REQUEST'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isHost </span><span class="s8">&amp;&amp;</span><span class="s1"> </span><span class="s8">!</span><span class="s1">state</span><span class="s8">.</span><span class="s1">isFlipping</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>performFlip</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">data</span><span class="s8">.</span><span class="s1">type </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'REQUEST_STATE'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Host responds to handshake</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isHost</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                    </span>console</span><span class="s8">.</span><span class="s4">log</span><span class="s8">(</span><span class="s1">"Guest asked for state, sending..."</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>sendState</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> sendState</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">conn </span><span class="s8">&amp;&amp;</span><span class="s1"> conn</span><span class="s8">.</span><span class="s1">open</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>conn</span><span class="s8">.</span><span class="s1">send</span><span class="s8">({</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>type</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'STATE_UPDATE'</span><span class="s8">,</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>payload</span><span class="s8">:</span><span class="s1"> state</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> performFlip</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">state</span><span class="s8">.</span><span class="s1">isFlipping</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>state</span><span class="s8">.</span><span class="s1">isFlipping </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>disableFlipBtn</span><span class="s8">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> randomVal </span><span class="s8">=</span><span class="s1"> </span><span class="s13">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> outcome </span><span class="s8">=</span><span class="s1"> randomVal </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s12">0.5</span><span class="s1"> </span><span class="s8">?</span><span class="s1"> </span><span class="s10">'tails'</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s10">'heads'</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> baseRotation </span><span class="s8">=</span><span class="s1"> </span><span class="s12">1800</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s8">(</span><span class="s13">Math</span><span class="s8">.</span><span class="s1">floor</span><span class="s8">(</span><span class="s13">Math</span><span class="s8">.</span><span class="s1">random</span><span class="s8">()</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">3</span><span class="s8">)</span><span class="s1"> </span><span class="s8">*</span><span class="s1"> </span><span class="s12">360</span><span class="s8">);</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">let</span><span class="s1"> nextAngle </span><span class="s8">=</span><span class="s1"> state</span><span class="s8">.</span><span class="s1">angle </span><span class="s8">+</span><span class="s1"> baseRotation</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">const</span><span class="s1"> currentMod </span><span class="s8">=</span><span class="s1"> nextAngle </span><span class="s8">%</span><span class="s1"> </span><span class="s12">360</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">outcome </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'heads'</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>nextAngle </span><span class="s8">+=</span><span class="s1"> </span><span class="s8">(</span><span class="s12">360</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> currentMod</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>nextAngle </span><span class="s8">+=</span><span class="s1"> </span><span class="s8">(</span><span class="s12">180</span><span class="s1"> </span><span class="s8">-</span><span class="s1"> currentMod</span><span class="s8">)</span><span class="s1"> </span><span class="s8">+</span><span class="s1"> </span><span class="s12">360</span><span class="s8">;</span><span class="s1"><span class="Apple-converted-space"> </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>state</span><span class="s8">.</span><span class="s1">angle </span><span class="s8">=</span><span class="s1"> nextAngle</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>updateUI</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>sendState</span><span class="s8">();</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setTimeout</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>state</span><span class="s8">.</span><span class="s1">isFlipping </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>state</span><span class="s8">.</span><span class="s1">counts</span><span class="s8">[</span><span class="s1">outcome</span><span class="s8">]++;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>state</span><span class="s8">.</span><span class="s1">history</span><span class="s8">.</span><span class="s1">unshift</span><span class="s8">(</span><span class="s1">outcome</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">state</span><span class="s8">.</span><span class="s1">history</span><span class="s8">.</span><span class="s1">length </span><span class="s8">&gt;</span><span class="s1"> </span><span class="s12">5</span><span class="s8">)</span><span class="s1"> state</span><span class="s8">.</span><span class="s1">history</span><span class="s8">.</span><span class="s1">pop</span><span class="s8">();</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">                </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>updateUI</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>sendState</span><span class="s8">();</span></p>
<p class="p6"><span class="s4"><span class="Apple-converted-space">                </span></span><span class="s1">// Both can flip again</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s8">(</span><span class="s1">isHost </span><span class="s8">||</span><span class="s1"> </span><span class="s8">(</span><span class="s1">conn </span><span class="s8">&amp;&amp;</span><span class="s1"> conn</span><span class="s8">.</span><span class="s1">open</span><span class="s8">))</span><span class="s1"> enableFlipBtn</span><span class="s8">(</span><span class="s10">"FLIP COIN"</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">},</span><span class="s1"> </span><span class="s12">3000</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> updateUI</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>coin</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">transform </span><span class="s8">=</span><span class="s1"> </span><span class="s10">`rotateY(</span><span class="s8">${</span><span class="s1">state</span><span class="s8">.</span><span class="s1">angle</span><span class="s8">}</span><span class="s10">deg)`</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>headsCount</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> state</span><span class="s8">.</span><span class="s1">counts</span><span class="s8">.</span><span class="s1">heads</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>tailsCount</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> state</span><span class="s8">.</span><span class="s1">counts</span><span class="s8">.</span><span class="s1">tails</span><span class="s8">;</span></p>
<p class="p5"><span class="s1"><span class="Apple-converted-space">            </span></span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">state</span><span class="s8">.</span><span class="s1">history</span><span class="s8">.</span><span class="s1">length </span><span class="s8">===</span><span class="s1"> </span><span class="s12">0</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p7"><span class="s4"><span class="Apple-converted-space">                </span>historyContainer</span><span class="s8">.</span><span class="s4">innerHTML </span><span class="s8">=</span><span class="s4"> </span><span class="s1">'&lt;span style="font-size: 12px; color: #64748b;"&gt;No history yet&lt;/span&gt;'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>historyContainer</span><span class="s8">.</span><span class="s1">innerHTML </span><span class="s8">=</span><span class="s1"> </span><span class="s10">''</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>state</span><span class="s8">.</span><span class="s1">history</span><span class="s8">.</span><span class="s1">forEach</span><span class="s8">(</span><span class="s1">h </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span></span><span class="s11">const</span><span class="s1"> b </span><span class="s8">=</span><span class="s1"> document</span><span class="s8">.</span><span class="s1">createElement</span><span class="s8">(</span><span class="s10">'div'</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>b</span><span class="s8">.</span><span class="s1">className </span><span class="s8">=</span><span class="s1"> </span><span class="s10">`bubble </span><span class="s8">${</span><span class="s1">h </span><span class="s8">===</span><span class="s1"> </span><span class="s10">'heads'</span><span class="s1"> </span><span class="s8">?</span><span class="s1"> </span><span class="s10">'bubble-h'</span><span class="s1"> </span><span class="s8">:</span><span class="s1"> </span><span class="s10">'bubble-t'</span><span class="s8">}</span><span class="s10">`</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>b</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> h</span><span class="s8">.</span><span class="s1">charAt</span><span class="s8">(</span><span class="s12">0</span><span class="s8">).</span><span class="s1">toUpperCase</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>historyContainer</span><span class="s8">.</span><span class="s1">appendChild</span><span class="s8">(</span><span class="s1">b</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">state</span><span class="s8">.</span><span class="s1">isFlipping</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>disableFlipBtn</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s8">(</span><span class="s1">conn </span><span class="s8">&amp;&amp;</span><span class="s1"> conn</span><span class="s8">.</span><span class="s1">open</span><span class="s8">)</span><span class="s1"> enableFlipBtn</span><span class="s8">(</span><span class="s10">"FLIP COIN"</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> disableFlipBtn</span><span class="s8">()</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>flipBtn</span><span class="s8">.</span><span class="s1">disabled </span><span class="s8">=</span><span class="s1"> </span><span class="s11">true</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>flipBtn</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> </span><span class="s10">"FLIPPING..."</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s11">function</span><span class="s1"> enableFlipBtn</span><span class="s8">(</span><span class="s1">text</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>flipBtn</span><span class="s8">.</span><span class="s1">disabled </span><span class="s8">=</span><span class="s1"> </span><span class="s11">false</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>flipBtn</span><span class="s8">.</span><span class="s1">innerText </span><span class="s8">=</span><span class="s1"> text</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">}</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>flipBtn</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">state</span><span class="s8">.</span><span class="s1">isFlipping</span><span class="s8">)</span><span class="s1"> </span><span class="s11">return</span><span class="s8">;</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">isHost</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>performFlip</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">conn </span><span class="s8">&amp;&amp;</span><span class="s1"> conn</span><span class="s8">.</span><span class="s1">open</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>conn</span><span class="s8">.</span><span class="s1">send</span><span class="s8">({</span><span class="s1"> type</span><span class="s8">:</span><span class="s1"> </span><span class="s10">'FLIP_REQUEST'</span><span class="s1"> </span><span class="s8">});</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                    </span>disableFlipBtn</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>copyLinkBtn</span><span class="s8">.</span><span class="s1">addEventListener</span><span class="s8">(</span><span class="s10">'click'</span><span class="s8">,</span><span class="s1"> </span><span class="s8">()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>linkInput</span><span class="s8">.</span><span class="s1">select</span><span class="s8">();</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>linkInput</span><span class="s8">.</span><span class="s1">setSelectionRange</span><span class="s8">(</span><span class="s12">0</span><span class="s8">,</span><span class="s1"> </span><span class="s12">99999</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s11">if</span><span class="s1"> </span><span class="s8">(</span><span class="s1">navigator</span><span class="s8">.</span><span class="s1">clipboard</span><span class="s8">)</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>navigator</span><span class="s8">.</span><span class="s1">clipboard</span><span class="s8">.</span><span class="s1">writeText</span><span class="s8">(</span><span class="s1">linkInput</span><span class="s8">.</span><span class="s1">value</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span><span class="s1"> </span><span class="s11">else</span><span class="s1"> </span><span class="s8">{</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">                </span>document</span><span class="s8">.</span><span class="s1">execCommand</span><span class="s8">(</span><span class="s10">"copy"</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span></span><span class="s8">}</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>toast</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">opacity </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'1'</span><span class="s8">;</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">            </span>setTimeout</span><span class="s8">(()</span><span class="s1"> </span><span class="s8">=&gt;</span><span class="s1"> toast</span><span class="s8">.</span><span class="s1">style</span><span class="s8">.</span><span class="s1">opacity </span><span class="s8">=</span><span class="s1"> </span><span class="s10">'0'</span><span class="s8">,</span><span class="s1"> </span><span class="s12">2000</span><span class="s8">);</span></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span></span><span class="s8">});</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p4"><span class="s1"><span class="Apple-converted-space">        </span>init</span><span class="s8">();</span></p>
<p class="p5"><span class="s7"></span><br></p>
<p class="p1"><span class="s4"><span class="Apple-converted-space">    </span></span><span class="s3">&lt;/</span><span class="s1">script</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">body</span><span class="s3">&gt;</span></p>
<p class="p1"><span class="s3">&lt;/</span><span class="s1">html</span><span class="s3">&gt;</span></p>
</body>
</html>
